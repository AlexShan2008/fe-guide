# 代码开发及提交流程

## 1 确认需求

1. UE（产品原型）-产品经理
2. PRD - 产品经理
3. UI - UI设计师
4. 接口文档 - 后端开发
5. 开发工期 - 自评 + 前端Leader
6. 提测时间 - 自评 + 前端Leader

## 2 代码开发

### 2.1 创建分支

- 网页端上基于`master`创建新分支，分支名遵循《热云前端开发规范之分支命名规范V1.0.0》

### 2.2 同步已创建的分支到本地

```sh
- cd project file
- git pull
- git checkout newBranchName
```

### 2.3 书写代码

**开发中，应严格遵守《热云前端开发规范》及项目开发规范，若有冲突，以项目规范为准**

## 3 提测

> 若涉及到后端接口配合，需要协调后端人员同步更新相应测试环境

1. 自测，开发完成后先充分自测
2. QA（测试人员）测试

- 将测试通过的代码分支，发布到`test`测试环境，并通知到测试人员进行测试
- `test`环境测试通过，通知前端Leader，由**前端Leader**或者**测试Leader**发布相应分支到`pre`环境，发布成功以后，通知测试人员回归测试
- `pre`环境测试通过，进入下一个环节，

## 4 合并代码

> 需要明确后端上线时间
> 需要明确产品上线时间

1. 将`master`分支合并到本开发分支
2. 开发人员提交`PR(Pull/Merge Request)`，他人代码`Review`，最好备注文档链接或UI图纸（以便于reviewer能够更好地进行代码review）。指定伙伴为你进行review，只有**测试通过**并且**approve**之后的代码才能合并到dev分支上。
3. `Review`通过以后，根据上线时间，决定是否需要将开发分支合并到`develop`分支

## 5 发布生产环境

1. 打`tag`，更新版本号

    ```sh
    git tag -a <tagname> -m "my version 1.4"
    git push origin --tags
    ```

2. 由项目指定人员发布生产环境

## 6 线上回归测试

生产环境发布以后，通过测试人员进行线上回归测试

### Tips

1. 应该严格准守此操作流程，以保证代码质量及开发效率。
2. 条件允许，或者核心功能点（设计支付、注册、登录等）功能时，最好应该指定多人进行`review`。
3. `review`的好处，优点远大于弊端，不仅可以降低bug出现的概率，更可以大幅提升自己的代码质量。
4. 为了降低每次解决冲突的成本，应尽量频繁地`rebase master`, `rebase`之前应尽量将自己的feature分支的多个commit合并为1个，这样可以大幅提高解决冲突的效率。
